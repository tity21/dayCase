<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<style>
    /* 板式css */

    * {
        margin: 0;
        padding: 0;
        list-style: none;
    }

    div img {
        height: 200px;
        width: 200px;
    }
</style>

<body>
    <!-- 图片容器 -->
    <div>
        <img src="" alt="" id="img1">
        <img src="" alt="" id="img2">
        <img src="" alt="" id="img3">
        <img src="" alt="" id="img4">
    </div>
</body>
<script>

    function loading(obj) {
        console.log(obj.el.src);
        return new Promise((resolve, reject) => {
            //创建图片对象
            let imgobj = new Image();

            //图片加载成功和失败事件1  2
            imgobj.onload = () => {
                //图片加载到页面中
                obj.el.src = imgobj.src;
                
                
                resolve(imgobj);
            }
            imgobj.onerror = () => {
                reject("加载失败")
            }
            imgobj.src = obj.src;//设置图片路径
        })


    }
    Promise.all([
        loading({
            el: img1,
            src: 'http://wx2.sinaimg.cn/large/006nLajtly1fk65lrevkqj30dw0dwadz.jpg'
        }),
        loading({
            el: img2,
            src: 'http://wx2.sinaimg.cn/large/006nLajtly1fk65lrevkqj30dw0dwadz.jpg'
        }),
        loading({
            el: img3,
            src: 'http://wx2.sinaimg.cn/large/006nLajtly1fk65lrevkqj30dw0dwadz.jpg'
        }),
        loading({
            el: img4,
            src: 'http://wx2.sinaimg.cn/large/006nLajtly1fk65lrevkqj30dw0dwadz.jpg'
        })
    ]).catch((err) => {
        console.log(err)
    })
</script>

</html>